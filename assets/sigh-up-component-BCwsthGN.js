import{r as n,n as u,j as s,w as p}from"./main-DllzQGCZ.js";import{L as g,F as h}from"./logo-component-C42aMshr.js";const x=()=>{const[i,r]=n.useState([]);return n.useEffect(()=>{const e=JSON.parse(localStorage.getItem("users"))||[];r(e)},[]),{registerUser:e=>{const a=[...i,e];r(a),localStorage.setItem("users",JSON.stringify(a))},isUserExists:e=>i.some(a=>a.login===e)}},j=()=>{const i=n.useRef(),r=n.useRef(),o=u(),[t,e]=n.useState(""),{registerUser:a,isUserExists:d}=x(),c=m=>{m.preventDefault();const l={login:i.current.value,password:r.current.value};d(l.login)?e(`Юзер с логином ${l.login} уже существует.`):(a(l),o(p.ROOT))};return s.jsxs("div",{className:"user-page",children:[s.jsxs("header",{className:"page-header user-page__head",children:[s.jsx("h1",{children:"Регистрация"}),s.jsx(g,{})]}),s.jsxs("div",{className:"sign-in user-page__content",children:[s.jsxs("form",{action:"",method:"post",className:"sign-in__form",children:[s.jsxs("div",{className:"sign-in__fields",children:[s.jsxs("div",{className:"sign-in__field",children:[s.jsx("input",{className:"sign-in__input",type:"email",placeholder:"Email address",name:"user-email",id:"user-email",ref:i,"data-testid":"email"}),s.jsx("label",{className:"sign-in__label visually-hidden",htmlFor:"user-email",children:"Email address"})]}),s.jsxs("div",{className:"sign-in__field",children:[s.jsx("input",{className:"sign-in__input",type:"password",placeholder:"Password",name:"user-password",id:"user-password",ref:r,"data-testid":"password"}),s.jsx("label",{className:"sign-in__label visually-hidden",htmlFor:"user-password",children:"Password"})]})]}),s.jsx("div",{className:"sign-in__submit",children:s.jsx("button",{className:"sign-in__btn",type:"submit",onClick:c,children:"Отправить"})})]}),t&&s.jsx("p",{children:t})]}),s.jsx(h,{})]})};export{j as default};
