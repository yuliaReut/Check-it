import{f as d,n as f,r as i,o as g,j as s,g as c,A as x,P as j}from"./main-BQT6CTlq.js";import{q as n,S}from"./search-component-dnU0H1S7.js";import{F as v}from"./film.prop-CdnTFHgk.js";import{L as y,F as N}from"./logo-component-C05z5kuh.js";import{F}from"./films-list-component-DQrBCKUR.js";const L=({films:q})=>{const t=d(),r=f();let a=n.parse(r.search),e=a.q||"";const[m,l]=i.useState(e);i.useEffect(()=>{a=n.parse(r.search),e=a.q||"",l(e)},[r.search]);const{data:h,isLoading:u,error:o}=g(e);if(u)return s.jsx("div",{children:"Loading..."});if(o)return s.jsxs("div",{children:["Error: ",o.message]});const p=c()?c():x.NO_AUTH;return s.jsxs("div",{className:"user-page",children:[s.jsxs("header",{className:"page-header user-page__head",children:[s.jsx(y,{}),s.jsx(S,{}),s.jsx("div",{className:"user-block",children:t?t.login:""})]}),s.jsxs("section",{className:"catalog",children:[s.jsxs("h1",{className:"page-title ",children:["Результаты поиска по запросу ",m]}),s.jsx("div",{className:"catalog__movies-list",children:s.jsx(F,{films:h.films,isAuthenticated:p})})]}),s.jsx(N,{})]})};L.propTypes={films:j.arrayOf(v)};export{L as default};
