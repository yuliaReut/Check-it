import{r as t,k as u,j as s,t as p}from"./main-C5yPUGWL.js";import{L as g,F as h}from"./logo-component-BTLj4UDe.js";const x=()=>{const[i,r]=t.useState([]);return t.useEffect(()=>{const e=JSON.parse(localStorage.getItem("users"))||[];r(e)},[]),{registerUser:e=>{const a=[...i,e];r(a),localStorage.setItem("users",JSON.stringify(a))},isUserExists:e=>i.some(a=>a.login===e)}},j=()=>{const i=t.useRef(),r=t.useRef(),o=u(),[l,e]=t.useState(""),{registerUser:a,isUserExists:d}=x(),c=m=>{m.preventDefault();const n={login:i.current.value,password:r.current.value};d(n.login)?e(`Юзер с логином ${n.login} уже существует.`):(a(n),alert(`Юзер с логином ${n.login} успешно зарегистрирован.`),o(p.ROOT))};return s.jsxs("div",{className:"user-page",children:[s.jsxs("header",{className:"page-header user-page__head",children:[s.jsx("h1",{children:"Регистрация"}),s.jsx(g,{})]}),s.jsxs("div",{className:"sign-in user-page__content",children:[s.jsxs("form",{action:"",method:"post",className:"sign-in__form",children:[s.jsxs("div",{className:"sign-in__fields",children:[s.jsxs("div",{className:"sign-in__field",children:[s.jsx("input",{className:"sign-in__input",type:"email",placeholder:"Email address",name:"user-email",id:"user-email",ref:i,"data-testid":"email"}),s.jsx("label",{className:"sign-in__label visually-hidden",htmlFor:"user-email",children:"Email address"})]}),s.jsxs("div",{className:"sign-in__field",children:[s.jsx("input",{className:"sign-in__input",type:"password",placeholder:"Password",name:"user-password",id:"user-password",ref:r,"data-testid":"password"}),s.jsx("label",{className:"sign-in__label visually-hidden",htmlFor:"user-password",children:"Password"})]})]}),s.jsx("div",{className:"sign-in__submit",children:s.jsx("button",{className:"sign-in__btn",type:"submit",onClick:c,children:"Отправить"})})]}),l&&s.jsx("p",{children:l})]}),s.jsx(h,{})]})};export{j as default};
