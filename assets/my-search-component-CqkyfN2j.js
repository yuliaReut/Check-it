import{i as d,q as g,r as i,t as x,j as s,g as c,A as f,P as j}from"./main-DllzQGCZ.js";import{q as n,S}from"./search-component-BDAefVUj.js";import{F as v}from"./film.prop-BkqpvgzV.js";import{L as y,F as N}from"./logo-component-C42aMshr.js";import{F as q}from"./films-list-component-CAkXS_jw.js";const F=({films:L})=>{const t=d(),r=g();let a=n.parse(r.search),e=a.q||"";const[m,l]=i.useState(e);i.useEffect(()=>{a=n.parse(r.search),e=a.q||"",l(e)},[r.search]);const{data:h,isLoading:u,error:o}=x(e);if(u)return s.jsx("div",{children:"Loading..."});if(o)return s.jsxs("div",{children:["Error: ",o.message]});const p=c()?c():f.NO_AUTH;return s.jsxs("div",{className:"user-page",children:[s.jsxs("header",{className:"page-header user-page__head",children:[s.jsx(y,{}),s.jsx(S,{}),s.jsx("div",{className:"user-block",children:t?t.login:""})]}),s.jsxs("section",{className:"catalog",children:[s.jsxs("h1",{className:"page-title ",children:["Результаты поиска по запросу ",m]}),s.jsx("div",{className:"catalog__movies-list",children:s.jsx(q,{films:h.films,isAuthenticated:p})})]}),s.jsx(N,{})]})};F.propTypes={films:j.arrayOf(v)};export{F as default};
